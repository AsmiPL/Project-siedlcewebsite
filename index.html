<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Project Gmina Siedlce</title>
<link rel="icon" href="Logosiedlce.png">
<style>
body{margin:0;font-family:'Poppins',sans-serif;color:#fff;overflow-x:hidden;background:#000;}
.bg1,.bg2{position:fixed;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;transition:opacity 2s ease-in-out;z-index:-2;}
.bg2{opacity:0;z-index:-1;}
header{display:flex;justify-content:space-between;align-items:center;padding:20px 40px;background:rgba(0,0,0,0.5);backdrop-filter:blur(5px);}
.logo{height:70px;}
.lang{cursor:pointer;font-weight:bold;}
.main{text-align:center;margin-top:10vh;}
.main h1{font-size:60px;text-shadow:0 0 20px #000;}
.countdown{font-size:24px;margin:20px 0;}
.trello-btn,button{background:rgba(0,0,0,0.5);color:#fff;border:none;padding:10px 20px;border-radius:12px;cursor:pointer;transition:0.3s;margin-top:10px;}
.trello-btn img{height:30px;vertical-align:middle;margin-right:8px;}
.trello-btn:hover,button:hover{background:rgba(255,255,255,0.2);}
.section{margin:40px auto;width:80%;max-width:800px;background:rgba(0,0,0,0.6);border-radius:20px;padding:20px;}
.section h2{text-align:center;}
.admin-panel{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.9);padding:20px;border-radius:20px;width:90%;max-width:600px;z-index:999;}
textarea{width:100%;height:80px;border-radius:10px;border:none;padding:10px;margin-top:10px;}
.fade-in{animation:fadein 1s ease forwards;}
@keyframes fadein{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
</style>
</head>
<body>

<div class="bg1" id="bg1"></div>
<div class="bg2" id="bg2"></div>

<header>
  <img src="Logosiedlce.png" class="logo">
  <div class="lang" id="langBtn">PL</div>
</header>

<section class="main fade-in">
  <h1>Project Gmina Siedlce</h1>
  <div class="countdown" id="countdown"></div>
  <a class="trello-btn" href="https://trello.com" target="_blank">
    <img src="Trello_icon5.png" alt="Trello"> Trello
  </a>
  <div id="discord-announcements" style="margin-top:30px;font-size:18px;">≈Åadowanie og≈Çosze≈Ñ z Discord...</div>
</section>

<div class="section fade-in" id="announcements">
  <h2>Og≈Çoszenia</h2>
  <div id="annList">Brak og≈Çosze≈Ñ</div>
</div>

<div class="section fade-in" id="bans">
  <h2>Lista ban√≥w</h2>
  <div id="banList">Brak ban√≥w</div>
</div>

<div class="admin-panel" id="adminPanel">
  <h2>Panel Administratora</h2>
  <textarea id="newAnn" placeholder="Napisz og≈Çoszenie..."></textarea>
  <button onclick="addAnnouncement()">Dodaj og≈Çoszenie</button>
  <textarea id="newBan" placeholder="Dodaj bana (nick)"></textarea>
  <button onclick="addBan()">Dodaj bana</button>
  <button onclick="closePanel()">Zamknij</button>
</div>

<script>
// Zmiana t≈Ça p≈Çynnie
const bg1=document.getElementById('bg1');
const bg2=document.getElementById('bg2');
const images=['Fota1.png','Fota2.png','Fota3.png','Fota4.png'];
let i=0,showingFirst=true;
bg1.style.backgroundImage=`url('${images[0]}')`;
setInterval(()=>{
  i=(i+1)%images.length;
  if(showingFirst){
    bg2.style.backgroundImage=`url('${images[i]}')`;
    bg2.style.opacity=1;
    setTimeout(()=>{bg1.style.opacity=0;},500);
  }else{
    bg1.style.backgroundImage=`url('${images[i]}')`;
    bg1.style.opacity=1;
    setTimeout(()=>{bg2.style.opacity=0;},500);
  }
  showingFirst=!showingFirst;
},6000);

// Countdown
function countdown(){
  const endDate=new Date('Nov 10,2025 00:00:00').getTime();
  const now=new Date().getTime();
  const diff=endDate-now;
  if(diff<0){document.getElementById("countdown").innerHTML="Premiera ju≈º dostƒôpna!";return;}
  const days=Math.floor(diff/(1000*60*60*24));
  const hours=Math.floor((diff%(1000*60*60*24))/(1000*60*60));
  const minutes=Math.floor((diff%(1000*60*60))/(1000*60));
  const seconds=Math.floor((diff%(1000*60))/1000);
  document.getElementById("countdown").innerHTML=`${days}d ${hours}h ${minutes}m ${seconds}s`;
}
setInterval(countdown,1000);

// Panel admina
let clickCount=0;
document.getElementById('langBtn').addEventListener('click',()=>{
  clickCount++;
  if(clickCount>=6){
    const pass=prompt("Wpisz has≈Ço administratora:");
    if(pass==="1234567"){openPanel();}
    clickCount=0;
  }
});
function openPanel(){document.getElementById('adminPanel').style.display='block';}
function closePanel(){document.getElementById('adminPanel').style.display='none';}

// Og≈Çoszenia i bany
function addAnnouncement(){
  const text=document.getElementById('newAnn').value.trim();
  if(!text) return;
  let list=JSON.parse(localStorage.getItem('announcements')||"[]");
  list.push({text:text,date:new Date().toLocaleString()});
  localStorage.setItem('announcements',JSON.stringify(list));
  showAnnouncements();
  document.getElementById('newAnn').value='';
}
function showAnnouncements(){
  let list=JSON.parse(localStorage.getItem('announcements')||"[]");
  const box=document.getElementById('annList');
  if(list.length===0){box.innerHTML="Brak og≈Çosze≈Ñ";return;}
  box.innerHTML=list.map(a=>`<div><b>${a.date}</b><br>${a.text}</div><hr>`).join('');
}
showAnnouncements();

function addBan(){
  const text=document.getElementById('newBan').value.trim();
  if(!text) return;
  let list=JSON.parse(localStorage.getItem('bans')||"[]");
  list.push({text:text,date:new Date().toLocaleString()});
  localStorage.setItem('bans',JSON.stringify(list));
  showBans();
  document.getElementById('newBan').value='';
}
function showBans(){
  let list=JSON.parse(localStorage.getItem('bans')||"[]");
  const box=document.getElementById('banList');
  if(list.length===0){box.innerHTML="Brak ban√≥w";return;}
  box.innerHTML=list.map(a=>`<div><b>${a.date}</b><br>${a.text}</div><hr>`).join('');
}
showBans();

// üîπ Discord Webhook fetch (tylko wys≈Çane wiadomo≈õci)
async function fetchDiscordWebhook(){
  try{
    const res=await fetch('https://discord.com/api/webhooks/1430287032248303618/7hireYDDUhQ5bSt6Z_0Qn3RYgYQfv02gYJmK0sLil_PB8Qfze_cCJnfCDEgdE4FGmfGN');
    const data=await res.json();
    // Webhook nie pozwala na publiczne pobieranie, wiƒôc poka≈ºemy przyk≈Çadowo ostatniƒÖ wiadomo≈õƒá
    if(Array.isArray(data) && data.length>0){
      document.getElementById('discord-announcements').innerText=data[data.length-1].content;
    } else {
      document.getElementById('discord-announcements').innerText="Brak og≈Çosze≈Ñ z Discorda.";
    }
  }catch(e){
    document.getElementById('discord-announcements').innerText="Discord info niedostƒôpne.";
  }
}
fetchDiscordWebhook();
</script>

</body>
</html>